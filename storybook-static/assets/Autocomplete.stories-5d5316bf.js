import{j as e}from"./jsx-runtime-ffb262ed.js";import{r as n}from"./index-76fb7be0.js";import{I as P}from"./Input-8006e75e.js";import{c as H,d as M}from"./index.esm-2d6aa1b6.js";import{R as $}from"./index.es-d2f9e92b.js";import{A as B}from"./index-5c24f9bc.js";import{u as G}from"./useTranslation-00555890.js";import"./_commonjsHelpers-de833af9.js";import"./index-8d47fad6.js";import"./iconBase-1d38e9b4.js";const p=({placeholder:r,isClearable:g=!0,options:f,reference:k,error:v,label:A,onSelect:o,initialValues:l=null,reset:j,setReset:w,searchKey:c="name",displayKey:s="name",required:R=!1,noOptionsText:S,displayLogo:T=!1,...L})=>{const{t:q}=G(),[x,h]=n.useState(!1),[i,d]=n.useState(""),[y,F]=n.useState([]),[a,b]=n.useState(l),N=n.useRef(null),V=t=>{const{current:m}=N;m&&!m.contains(t.target)&&h(!1)},C=t=>{h(!1),o&&o(t),b(t),d("")},z=()=>(f||[]).filter(t=>(t[c]||"").toLowerCase().indexOf((i||"").toLowerCase())>-1),D=()=>l?a?a[c]!==l[c]:!0:!1,_=()=>{b(null),o&&o(null),d("")};return n.useEffect(()=>(document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}),[]),n.useEffect(()=>{D()&&(b(l),o&&o(l),d(""))},[l]),n.useEffect(()=>{j&&(_(),w&&w(!1))},[j]),n.useEffect(()=>{$.rebuild()},[a,g]),n.useEffect(()=>{F(i&&i!==""?z():f)},[i,f]),e.jsxs("div",{ref:N,children:[e.jsxs("label",{className:"block mb-1 text-left text-xs font-medium text-black flex",children:[A,R&&e.jsx("span",{className:"text-red",children:"Â *"}),a&&g&&e.jsx("span",{"data-tip":q("reset"),className:"hover:underline text-main relative -top-[1px]",onClick:t=>{t.stopPropagation(),_()},children:e.jsx(H,{className:"cursor-pointer inline-block ml-1"})})]}),e.jsx(P,{type:"text",...k,onClick:()=>h(!x),placeholder:r,value:(!x&&a?a[s]:i)||"",autoComplete:"off",onChange:t=>d(t.target.value),className:"w-full | py-3 px-4 mb-5 | text-left text-xs font-normal relative z-10 | rounded-2xl placeholder-gray shadow-focus | cursor-text transition-all duration-200 | outline-none hover:border-main hover:outline-none hover:shadow-inner bg-white cursor-pointer active:outline-none focus:border-main focus:outline-none focus:shadow-focus",...L}),e.jsx("div",{className:"relative w-full",children:x&&e.jsxs("div",{className:"w-full max-h-52 overflow-y-auto | -mt-4 py-3 px-3 mb-5 | text-left text-xs font-normal absolute z-20 | rounded-2xl placeholder-gray shadow-hover bg-white | cursor-pointer transition-all duration-200 | outline-none hover:border-main hover:outline-none  active:outline-none focus:border-main focus:outline-none focus:shadow-focus",children:[y.length>0&&y.map((t,m)=>e.jsx("ul",{tabIndex:0,onClick:()=>C(t),children:e.jsxs("li",{className:"py-1 px-2 font-normal hover:text-main flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[T&&e.jsx(e.Fragment,{children:e.jsx("div",{style:{height:"25px",width:"25px"},children:e.jsx(B,{size:"25",src:t.logo,name:t.name,alt:t.name,maxInitials:3,className:`h-full object-contain ${t.logo?"w-full":""}`,color:"#e0e6f2",fgColor:"#4d70b3",round:"5"})})}),e.jsx("span",{children:s?t[s]:t[c]})]}),(a?a==null?void 0:a[s]:"")===t[s]&&e.jsx(M,{className:"text-main"})]})},m)),y.length===0&&e.jsx("ul",{tabIndex:0,onClick:()=>C(""),children:e.jsx("li",{className:"py-1 px-2 font-normal",children:S||q("no_options")})})]})}),v&&e.jsx("div",{className:"text-red relative -top-3 left-2 text-xxs",children:v.message})]})};try{p.displayName="Autocomplete",p.__docgenInfo={description:"",displayName:"Autocomplete",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},isClearable:{defaultValue:{value:"true"},description:"",name:"isClearable",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"any[]"}},reference:{defaultValue:null,description:"",name:"reference",required:!0,type:{name:"any"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"any"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((selectedOption: any) => void)"}},initialValues:{defaultValue:{value:"null"},description:"",name:"initialValues",required:!1,type:{name:"any"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"boolean"}},setReset:{defaultValue:null,description:"",name:"setReset",required:!1,type:{name:"((reset: boolean) => void)"}},searchKey:{defaultValue:{value:"name"},description:"",name:"searchKey",required:!1,type:{name:"string"}},displayKey:{defaultValue:{value:"name"},description:"",name:"displayKey",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},noOptionsText:{defaultValue:null,description:"",name:"noOptionsText",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},displayLogo:{defaultValue:{value:"false"},description:"",name:"displayLogo",required:!1,type:{name:"boolean"}}}}}catch{}const ne={title:"Autocomplete",component:p},J=r=>e.jsx(p,{...r}),u=J.bind({});u.args={placeholder:"Type here...",options:[{id:1,name:"Option 1"},{id:2,name:"Option 2"}],reference:{},onSelect:r=>console.log("Selected Option:",r)};var E,I,O;u.parameters={...u.parameters,docs:{...(E=u.parameters)==null?void 0:E.docs,source:{originalSource:"args => <Autocomplete {...args} />",...(O=(I=u.parameters)==null?void 0:I.docs)==null?void 0:O.source}}};const re=["Default"];export{u as Default,re as __namedExportsOrder,ne as default};
