import{j as _}from"./jsx-runtime-ffb262ed.js";import{r as b}from"./index-76fb7be0.js";import{F as st,f as qt,X as Tt,z as ze,M as ot,J as lt,w as jt,E as Se,C as Ot,g as Lt,h as Bt,y as Et,$ as at,k as De,j as At,d as Pt,Z as Wt,B as ut,W as Ee,T as It,b as Ft,i as Ne,_ as Gt,A as $t,D as Ze,p as Vt,m as ct}from"./nivo-colors.es-6a419262.js";import{w as Oe,z as zt,X as Dt,D as Je,j as Xt,d as Yt}from"./nivo-axes.es-c7b8e9c5.js";import{T as Ht,X as Ut,H as Kt}from"./nivo-legends.es-8b85c3de.js";import{P as a}from"./index-8d47fad6.js";import{k as ht,u as Nt}from"./viridis-86f79054.js";import{m as Zt}from"./line-d3dcc640.js";import{I as Jt}from"./area-ef1ce4b1.js";import"./_commonjsHelpers-de833af9.js";import"./hasIn-bc1d64c1.js";import"./_baseIsEqual-83a59b7a.js";import"./isString-addf3cb0.js";import"./isEqual-f4967cc5.js";import"./uniq-2acdba94.js";import"./_basePickBy-65d675d2.js";import"./_baseForOwn-af9f9dd7.js";import"./_baseEach-997447e4.js";import"./linear-b6c2185e.js";import"./index-d3ea75b5.js";const Qe=Math.pow(2,-52),Le=new Uint32Array(512);class Ae{static from(e,i=ni,r=ri){const n=e.length,l=new Float64Array(n*2);for(let o=0;o<n;o++){const s=e[o];l[2*o]=i(s),l[2*o+1]=r(s)}return new Ae(l)}constructor(e){const i=e.length>>1;if(i>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*i-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:e,_hullPrev:i,_hullNext:r,_hullTri:n,_hullHash:l}=this,o=e.length>>1;let s=1/0,u=1/0,c=-1/0,d=-1/0;for(let m=0;m<o;m++){const x=e[2*m],k=e[2*m+1];x<s&&(s=x),k<u&&(u=k),x>c&&(c=x),k>d&&(d=k),this._ids[m]=m}const h=(s+c)/2,f=(u+d)/2;let p=1/0,g,y,w;for(let m=0;m<o;m++){const x=Ie(h,f,e[2*m],e[2*m+1]);x<p&&(g=m,p=x)}const S=e[2*g],C=e[2*g+1];p=1/0;for(let m=0;m<o;m++){if(m===g)continue;const x=Ie(S,C,e[2*m],e[2*m+1]);x<p&&x>0&&(y=m,p=x)}let M=e[2*y],L=e[2*y+1],V=1/0;for(let m=0;m<o;m++){if(m===g||m===y)continue;const x=ti(S,C,M,L,e[2*m],e[2*m+1]);x<V&&(w=m,V=x)}let F=e[2*w],H=e[2*w+1];if(V===1/0){for(let k=0;k<o;k++)this._dists[k]=e[2*k]-e[0]||e[2*k+1]-e[1];ve(this._ids,this._dists,0,o-1);const m=new Uint32Array(o);let x=0;for(let k=0,T=-1/0;k<o;k++){const A=this._ids[k];this._dists[A]>T&&(m[x++]=A,T=this._dists[A])}this.hull=m.subarray(0,x),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Be(S,C,M,L,F,H)){const m=y,x=M,k=L;y=w,M=F,L=H,w=m,F=x,H=k}const j=ii(S,C,M,L,F,H);this._cx=j.x,this._cy=j.y;for(let m=0;m<o;m++)this._dists[m]=Ie(e[2*m],e[2*m+1],j.x,j.y);ve(this._ids,this._dists,0,o-1),this._hullStart=g;let q=3;r[g]=i[w]=y,r[y]=i[g]=w,r[w]=i[y]=g,n[g]=0,n[y]=1,n[w]=2,l.fill(-1),l[this._hashKey(S,C)]=g,l[this._hashKey(M,L)]=y,l[this._hashKey(F,H)]=w,this.trianglesLen=0,this._addTriangle(g,y,w,-1,-1,-1);for(let m=0,x,k;m<this._ids.length;m++){const T=this._ids[m],A=e[2*T],W=e[2*T+1];if(m>0&&Math.abs(A-x)<=Qe&&Math.abs(W-k)<=Qe||(x=A,k=W,T===g||T===y||T===w))continue;let G=0;for(let D=0,ee=this._hashKey(A,W);D<this._hashSize&&(G=l[(ee+D)%this._hashSize],!(G!==-1&&G!==r[G]));D++);G=i[G];let R=G,O;for(;O=r[R],!Be(A,W,e[2*R],e[2*R+1],e[2*O],e[2*O+1]);)if(R=O,R===G){R=-1;break}if(R===-1)continue;let U=this._addTriangle(R,T,r[R],-1,-1,n[R]);n[T]=this._legalize(U+2),n[R]=U,q++;let z=r[R];for(;O=r[z],Be(A,W,e[2*z],e[2*z+1],e[2*O],e[2*O+1]);)U=this._addTriangle(z,T,O,n[T],-1,n[z]),n[T]=this._legalize(U+2),r[z]=z,q--,z=O;if(R===G)for(;O=i[R],Be(A,W,e[2*O],e[2*O+1],e[2*R],e[2*R+1]);)U=this._addTriangle(O,T,R,-1,n[R],n[O]),this._legalize(U+2),n[O]=U,r[R]=R,q--,R=O;this._hullStart=i[T]=R,r[R]=i[z]=T,r[T]=z,l[this._hashKey(A,W)]=T,l[this._hashKey(e[2*R],e[2*R+1])]=R}this.hull=new Uint32Array(q);for(let m=0,x=this._hullStart;m<q;m++)this.hull[m]=x,x=r[x];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,i){return Math.floor(Qt(e-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:i,_halfedges:r,coords:n}=this;let l=0,o=0;for(;;){const s=r[e],u=e-e%3;if(o=u+(e+2)%3,s===-1){if(l===0)break;e=Le[--l];continue}const c=s-s%3,d=u+(e+1)%3,h=c+(s+2)%3,f=i[o],p=i[e],g=i[d],y=i[h];if(ei(n[2*f],n[2*f+1],n[2*p],n[2*p+1],n[2*g],n[2*g+1],n[2*y],n[2*y+1])){i[e]=y,i[s]=f;const S=r[h];if(S===-1){let M=this._hullStart;do{if(this._hullTri[M]===h){this._hullTri[M]=e;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(e,S),this._link(s,r[o]),this._link(o,h);const C=c+(s+1)%3;l<Le.length&&(Le[l++]=C)}else{if(l===0)break;e=Le[--l]}}return o}_link(e,i){this._halfedges[e]=i,i!==-1&&(this._halfedges[i]=e)}_addTriangle(e,i,r,n,l,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=i,this._triangles[s+2]=r,this._link(s,n),this._link(s+1,l),this._link(s+2,o),this.trianglesLen+=3,s}}function Qt(t,e){const i=t/(Math.abs(t)+Math.abs(e));return(e>0?3-i:1+i)/4}function Ie(t,e,i,r){const n=t-i,l=e-r;return n*n+l*l}function Fe(t,e,i,r,n,l){const o=(r-e)*(n-t),s=(i-t)*(l-e);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function Be(t,e,i,r,n,l){return(Fe(n,l,t,e,i,r)||Fe(t,e,i,r,n,l)||Fe(i,r,n,l,t,e))<0}function ei(t,e,i,r,n,l,o,s){const u=t-o,c=e-s,d=i-o,h=r-s,f=n-o,p=l-s,g=u*u+c*c,y=d*d+h*h,w=f*f+p*p;return u*(h*w-y*p)-c*(d*w-y*f)+g*(d*p-h*f)<0}function ti(t,e,i,r,n,l){const o=i-t,s=r-e,u=n-t,c=l-e,d=o*o+s*s,h=u*u+c*c,f=.5/(o*c-s*u),p=(c*d-s*h)*f,g=(o*h-u*d)*f;return p*p+g*g}function ii(t,e,i,r,n,l){const o=i-t,s=r-e,u=n-t,c=l-e,d=o*o+s*s,h=u*u+c*c,f=.5/(o*c-s*u),p=t+(c*d-s*h)*f,g=e+(o*h-u*d)*f;return{x:p,y:g}}function ve(t,e,i,r){if(r-i<=20)for(let n=i+1;n<=r;n++){const l=t[n],o=e[l];let s=n-1;for(;s>=i&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=l}else{const n=i+r>>1;let l=i+1,o=r;Ce(t,n,l),e[t[i]]>e[t[r]]&&Ce(t,i,r),e[t[l]]>e[t[r]]&&Ce(t,l,r),e[t[i]]>e[t[l]]&&Ce(t,i,l);const s=t[l],u=e[s];for(;;){do l++;while(e[t[l]]<u);do o--;while(e[t[o]]>u);if(o<l)break;Ce(t,l,o)}t[i+1]=t[o],t[o]=s,r-l+1>=o-i?(ve(t,e,l,r),ve(t,e,i,o-1)):(ve(t,e,i,o-1),ve(t,e,l,r))}}function Ce(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function ni(t){return t[0]}function ri(t){return t[1]}const et=1e-6;class me{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,i){this._+=`L${this._x1=+e},${this._y1=+i}`}arc(e,i,r){e=+e,i=+i,r=+r;const n=e+r,l=i;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${n},${l}`:(Math.abs(this._x1-n)>et||Math.abs(this._y1-l)>et)&&(this._+="L"+n+","+l),r&&(this._+=`A${r},${r},0,1,1,${e-r},${i}A${r},${r},0,1,1,${this._x1=n},${this._y1=l}`)}rect(e,i,r,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${+r}v${+n}h${-r}Z`}value(){return this._||null}}class Ge{constructor(){this._=[]}moveTo(e,i){this._.push([e,i])}closePath(){this._.push(this._[0].slice())}lineTo(e,i){this._.push([e,i])}value(){return this._.length?this._:null}}class si{constructor(e,[i,r,n,l]=[0,0,960,500]){if(!((n=+n)>=(i=+i))||!((l=+l)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=n,this.xmin=i,this.ymax=l,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:i,triangles:r},vectors:n}=this,l=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,g=0,y=r.length,w,S;p<y;p+=3,g+=2){const C=r[p]*2,M=r[p+1]*2,L=r[p+2]*2,V=e[C],F=e[C+1],H=e[M],j=e[M+1],q=e[L],m=e[L+1],x=H-V,k=j-F,T=q-V,A=m-F,W=x*x+k*k,G=T*T+A*A,R=(x*A-k*T)*2;if(!R)w=(V+q)/2-1e8*A,S=(F+m)/2+1e8*T;else if(Math.abs(R)<1e-8)w=(V+q)/2,S=(F+m)/2;else{const O=1/R;w=V+(A*W-k*G)*O,S=F+(x*G-T*W)*O}l[g]=w,l[g+1]=S}let o=i[i.length-1],s,u=o*4,c,d=e[2*o],h,f=e[2*o+1];n.fill(0);for(let p=0;p<i.length;++p)o=i[p],s=u,c=d,h=f,u=o*4,d=e[2*o],f=e[2*o+1],n[s+2]=n[u]=h-f,n[s+3]=n[u+1]=d-c}render(e){const i=e==null?e=new me:void 0,{delaunay:{halfedges:r,inedges:n,hull:l},circumcenters:o,vectors:s}=this;if(l.length<=1)return null;for(let d=0,h=r.length;d<h;++d){const f=r[d];if(f<d)continue;const p=Math.floor(d/3)*2,g=Math.floor(f/3)*2,y=o[p],w=o[p+1],S=o[g],C=o[g+1];this._renderSegment(y,w,S,C,e)}let u,c=l[l.length-1];for(let d=0;d<l.length;++d){u=c,c=l[d];const h=Math.floor(n[c]/3)*2,f=o[h],p=o[h+1],g=u*4,y=this._project(f,p,s[g+2],s[g+3]);y&&this._renderSegment(f,p,y[0],y[1],e)}return i&&i.value()}renderBounds(e){const i=e==null?e=new me:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(e,i){const r=i==null?i=new me:void 0,n=this._clip(e);if(n===null||!n.length)return;i.moveTo(n[0],n[1]);let l=n.length;for(;n[0]===n[l-2]&&n[1]===n[l-1]&&l>1;)l-=2;for(let o=2;o<l;o+=2)(n[o]!==n[o-2]||n[o+1]!==n[o-1])&&i.lineTo(n[o],n[o+1]);return i.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let i=0,r=e.length/2;i<r;++i){const n=this.cellPolygon(i);n&&(n.index=i,yield n)}}cellPolygon(e){const i=new Ge;return this.renderCell(e,i),i.value()}_renderSegment(e,i,r,n,l){let o;const s=this._regioncode(e,i),u=this._regioncode(r,n);s===0&&u===0?(l.moveTo(e,i),l.lineTo(r,n)):(o=this._clipSegment(e,i,r,n,s,u))&&(l.moveTo(o[0],o[1]),l.lineTo(o[2],o[3]))}contains(e,i,r){return i=+i,i!==i||(r=+r,r!==r)?!1:this.delaunay._step(e,i,r)===e}*neighbors(e){const i=this._clip(e);if(i)for(const r of this.delaunay.neighbors(e)){const n=this._clip(r);if(n){e:for(let l=0,o=i.length;l<o;l+=2)for(let s=0,u=n.length;s<u;s+=2)if(i[l]==n[s]&&i[l+1]==n[s+1]&&i[(l+2)%o]==n[(s+u-2)%u]&&i[(l+3)%o]==n[(s+u-1)%u]){yield r;break e}}}}_cell(e){const{circumcenters:i,delaunay:{inedges:r,halfedges:n,triangles:l}}=this,o=r[e];if(o===-1)return null;const s=[];let u=o;do{const c=Math.floor(u/3);if(s.push(i[c*2],i[c*2+1]),u=u%3===2?u-2:u+1,l[u]!==e)break;u=n[u]}while(u!==o&&u!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(e);if(i===null)return null;const{vectors:r}=this,n=e*4;return r[n]||r[n+1]?this._clipInfinite(e,i,r[n],r[n+1],r[n+2],r[n+3]):this._clipFinite(e,i)}_clipFinite(e,i){const r=i.length;let n=null,l,o,s=i[r-2],u=i[r-1],c,d=this._regioncode(s,u),h,f;for(let p=0;p<r;p+=2)if(l=s,o=u,s=i[p],u=i[p+1],c=d,d=this._regioncode(s,u),c===0&&d===0)h=f,f=0,n?n.push(s,u):n=[s,u];else{let g,y,w,S,C;if(c===0){if((g=this._clipSegment(l,o,s,u,c,d))===null)continue;[y,w,S,C]=g}else{if((g=this._clipSegment(s,u,l,o,d,c))===null)continue;[S,C,y,w]=g,h=f,f=this._edgecode(y,w),h&&f&&this._edge(e,h,f,n,n.length),n?n.push(y,w):n=[y,w]}h=f,f=this._edgecode(S,C),h&&f&&this._edge(e,h,f,n,n.length),n?n.push(S,C):n=[S,C]}if(n)h=f,f=this._edgecode(n[0],n[1]),h&&f&&this._edge(e,h,f,n,n.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(e,i,r,n,l,o){for(;;){if(l===0&&o===0)return[e,i,r,n];if(l&o)return null;let s,u,c=l||o;c&8?(s=e+(r-e)*(this.ymax-i)/(n-i),u=this.ymax):c&4?(s=e+(r-e)*(this.ymin-i)/(n-i),u=this.ymin):c&2?(u=i+(n-i)*(this.xmax-e)/(r-e),s=this.xmax):(u=i+(n-i)*(this.xmin-e)/(r-e),s=this.xmin),l?(e=s,i=u,l=this._regioncode(e,i)):(r=s,n=u,o=this._regioncode(r,n))}}_clipInfinite(e,i,r,n,l,o){let s=Array.from(i),u;if((u=this._project(s[0],s[1],r,n))&&s.unshift(u[0],u[1]),(u=this._project(s[s.length-2],s[s.length-1],l,o))&&s.push(u[0],u[1]),s=this._clipFinite(e,s))for(let c=0,d=s.length,h,f=this._edgecode(s[d-2],s[d-1]);c<d;c+=2)h=f,f=this._edgecode(s[c],s[c+1]),h&&f&&(c=this._edge(e,h,f,s,c),d=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,i,r,n,l){for(;i!==r;){let o,s;switch(i){case 5:i=4;continue;case 4:i=6,o=this.xmax,s=this.ymin;break;case 6:i=2;continue;case 2:i=10,o=this.xmax,s=this.ymax;break;case 10:i=8;continue;case 8:i=9,o=this.xmin,s=this.ymax;break;case 9:i=1;continue;case 1:i=5,o=this.xmin,s=this.ymin;break}(n[l]!==o||n[l+1]!==s)&&this.contains(e,o,s)&&(n.splice(l,0,o,s),l+=2)}if(n.length>4)for(let o=0;o<n.length;o+=2){const s=(o+2)%n.length,u=(o+4)%n.length;(n[o]===n[s]&&n[s]===n[u]||n[o+1]===n[s+1]&&n[s+1]===n[u+1])&&(n.splice(s,2),o-=2)}return l}_project(e,i,r,n){let l=1/0,o,s,u;if(n<0){if(i<=this.ymin)return null;(o=(this.ymin-i)/n)<l&&(u=this.ymin,s=e+(l=o)*r)}else if(n>0){if(i>=this.ymax)return null;(o=(this.ymax-i)/n)<l&&(u=this.ymax,s=e+(l=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<l&&(s=this.xmax,u=i+(l=o)*n)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<l&&(s=this.xmin,u=i+(l=o)*n)}return[s,u]}_edgecode(e,i){return(e===this.xmin?1:e===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(e,i){return(e<this.xmin?1:e>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}}const oi=2*Math.PI,xe=Math.pow;function li(t){return t[0]}function ai(t){return t[1]}function ui(t){const{triangles:e,coords:i}=t;for(let r=0;r<e.length;r+=3){const n=2*e[r],l=2*e[r+1],o=2*e[r+2];if((i[o]-i[n])*(i[l+1]-i[n+1])-(i[l]-i[n])*(i[o+1]-i[n+1])>1e-10)return!1}return!0}function ci(t,e,i){return[t+Math.sin(t+e)*i,e+Math.cos(t-e)*i]}class Xe{static from(e,i=li,r=ai,n){return new Xe("length"in e?hi(e,i,r,n):Float64Array.from(di(e,i,r,n)))}constructor(e){this._delaunator=new Ae(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,i=this.points;if(e.hull&&e.hull.length>2&&ui(e)){this.collinear=Int32Array.from({length:i.length/2},(f,p)=>p).sort((f,p)=>i[2*f]-i[2*p]||i[2*f+1]-i[2*p+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],d=[i[2*u],i[2*u+1],i[2*c],i[2*c+1]],h=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let f=0,p=i.length/2;f<p;++f){const g=ci(i[2*f],i[2*f+1],h);i[2*f]=g[0],i[2*f+1]=g[1]}this._delaunator=new Ae(i)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let u=0,c=r.length;u<c;++u){const d=l[u%3===2?u-2:u+1];(r[u]===-1||o[d]===-1)&&(o[d]=u)}for(let u=0,c=n.length;u<c;++u)s[n[u]]=u;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],this.triangles[1]=n[1],this.triangles[2]=n[1],o[n[0]]=1,n.length===2&&(o[n[1]]=0))}voronoi(e){return new si(this,e)}*neighbors(e){const{inedges:i,hull:r,_hullIndex:n,halfedges:l,triangles:o,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const u=i[e];if(u===-1)return;let c=u,d=-1;do{if(yield d=o[c],c=c%3===2?c-2:c+1,o[c]!==e)return;if(c=l[c],c===-1){const h=r[(n[e]+1)%r.length];h!==d&&(yield h);return}}while(c!==u)}find(e,i,r=0){if(e=+e,e!==e||(i=+i,i!==i))return-1;const n=r;let l;for(;(l=this._step(r,e,i))>=0&&l!==r&&l!==n;)r=l;return l}_step(e,i,r){const{inedges:n,hull:l,_hullIndex:o,halfedges:s,triangles:u,points:c}=this;if(n[e]===-1||!c.length)return(e+1)%(c.length>>1);let d=e,h=xe(i-c[e*2],2)+xe(r-c[e*2+1],2);const f=n[e];let p=f;do{let g=u[p];const y=xe(i-c[g*2],2)+xe(r-c[g*2+1],2);if(y<h&&(h=y,d=g),p=p%3===2?p-2:p+1,u[p]!==e)break;if(p=s[p],p===-1){if(p=l[(o[e]+1)%l.length],p!==g&&xe(i-c[p*2],2)+xe(r-c[p*2+1],2)<h)return p;break}}while(p!==f);return d}render(e){const i=e==null?e=new me:void 0,{points:r,halfedges:n,triangles:l}=this;for(let o=0,s=n.length;o<s;++o){const u=n[o];if(u<o)continue;const c=l[o]*2,d=l[u]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[d],r[d+1])}return this.renderHull(e),i&&i.value()}renderPoints(e,i=2){const r=e==null?e=new me:void 0,{points:n}=this;for(let l=0,o=n.length;l<o;l+=2){const s=n[l],u=n[l+1];e.moveTo(s+i,u),e.arc(s,u,i,0,oi)}return r&&r.value()}renderHull(e){const i=e==null?e=new me:void 0,{hull:r,points:n}=this,l=r[0]*2,o=r.length;e.moveTo(n[l],n[l+1]);for(let s=1;s<o;++s){const u=2*r[s];e.lineTo(n[u],n[u+1])}return e.closePath(),i&&i.value()}hullPolygon(){const e=new Ge;return this.renderHull(e),e.value()}renderTriangle(e,i){const r=i==null?i=new me:void 0,{points:n,triangles:l}=this,o=l[e*=3]*2,s=l[e+1]*2,u=l[e+2]*2;return i.moveTo(n[o],n[o+1]),i.lineTo(n[s],n[s+1]),i.lineTo(n[u],n[u+1]),i.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let i=0,r=e.length/3;i<r;++i)yield this.trianglePolygon(i)}trianglePolygon(e){const i=new Ge;return this.renderTriangle(e,i),i.value()}}function hi(t,e,i,r){const n=t.length,l=new Float64Array(n*2);for(let o=0;o<n;++o){const s=t[o];l[o*2]=e.call(r,s,o,t),l[o*2+1]=i.call(r,s,o,t)}return l}function*di(t,e,i,r){let n=0;for(const l of t)yield e.call(r,l,n,t),yield i.call(r,l,n,t),++n}var tt=function(t){return typeof t=="function"?t:function(e){return e[t]}},fi=function(t){var e=t.points,i=t.x,r=i===void 0?"x":i,n=t.y,l=n===void 0?"y":n,o=tt(r),s=tt(l);return e.map(function(u){return[o(u),s(u)]})},pi=function(t){var e=t.points,i=t.width,r=t.height,n=t.debug,l=Xe.from(e),o=n?l.voronoi([0,0,i,r]):void 0;return{delaunay:l,voronoi:o}},dt=function(t){var e=t.points,i=t.x,r=t.y,n=t.width,l=t.height,o=t.debug,s=b.useMemo(function(){return fi({points:e,x:i,y:r})},[e,i,r]);return b.useMemo(function(){return pi({points:s,width:n,height:l,debug:o})},[s,n,l,o])},gi=function(t){var e=t.nodes,i=t.width,r=t.height,n=t.x,l=t.y,o=t.onMouseEnter,s=t.onMouseMove,u=t.onMouseLeave,c=t.onClick,d=t.debug,h=b.useRef(null),f=b.useState(null),p=f[0],g=f[1],y=dt({points:e,x:n,y:l,width:i,height:r,debug:d}),w=y.delaunay,S=y.voronoi,C=b.useMemo(function(){if(d&&S)return S.render()},[d,S]),M=b.useCallback(function(j){if(!h.current)return[null,null];var q=st(h.current,j),m=q[0],x=q[1],k=w.find(m,x);return[k,k!==void 0?e[k]:null]},[h,w]),L=b.useCallback(function(j){var q=M(j),m=q[0],x=q[1];g(m),x&&(o==null||o(x,j))},[M,g,o]),V=b.useCallback(function(j){var q=M(j),m=q[0],x=q[1];g(m),x&&(s==null||s(x,j))},[M,g,s]),F=b.useCallback(function(j){if(g(null),u){var q=void 0;p!==null&&(q=e[p]),q&&u(q,j)}},[g,p,u,e]),H=b.useCallback(function(j){var q=M(j),m=q[0],x=q[1];g(m),x&&(c==null||c(x,j))},[M,g,c]);return _.jsxs("g",{ref:h,children:[d&&S&&_.jsxs(_.Fragment,{children:[_.jsx("path",{d:C,stroke:"red",strokeWidth:1,opacity:.75}),p!==null&&_.jsx("path",{fill:"pink",opacity:.35,d:S.renderCell(p)})]}),_.jsx("rect",{width:i,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:L,onMouseMove:V,onMouseLeave:F,onClick:H})]})},mi=function(t,e){t.save(),t.globalAlpha=.75,t.beginPath(),e.render(t),t.strokeStyle="red",t.lineWidth=1,t.stroke(),t.restore()},yi=function(t,e,i){t.save(),t.globalAlpha=.35,t.beginPath(),e.renderCell(i,t),t.fillStyle="red",t.fill(),t.restore()};function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Y.apply(this,arguments)}var ft=function(t){var e=t.point;return _.jsx(jt,{id:_.jsxs("span",{children:["x: ",_.jsx("strong",{children:e.data.xFormatted}),", y:"," ",_.jsx("strong",{children:e.data.yFormatted})]}),enableChip:!0,color:e.serieColor})};ft.propTypes={point:a.object.isRequired};var bi=b.memo(ft),pt=function(t){var e=t.slice,i=t.axis,r=Se(),n=i==="x"?"y":"x";return _.jsx(Ot,{rows:e.points.map(function(l){return[_.jsx(Lt,{color:l.serieColor,style:r.tooltip.chip},"chip"),l.serieId,_.jsx("span",{style:r.tooltip.tableCellValue,children:l.data[n+"Formatted"]},"value")]})})};pt.propTypes={slice:a.object.isRequired,axis:a.oneOf(["x","y"]).isRequired};var xi=b.memo(pt),gt={data:a.arrayOf(a.shape({id:a.oneOfType([a.string,a.number]).isRequired,data:a.arrayOf(a.shape({x:a.oneOfType([a.number,a.string,a.instanceOf(Date)]),y:a.oneOfType([a.number,a.string,a.instanceOf(Date)])})).isRequired})).isRequired,xScale:a.object.isRequired,xFormat:a.oneOfType([a.func,a.string]),yScale:a.object.isRequired,yFormat:a.oneOfType([a.func,a.string]),layers:a.arrayOf(a.oneOfType([a.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),a.func])).isRequired,curve:qt.isRequired,axisTop:Oe,axisRight:Oe,axisBottom:Oe,axisLeft:Oe,enableGridX:a.bool.isRequired,enableGridY:a.bool.isRequired,gridXValues:a.oneOfType([a.number,a.arrayOf(a.oneOfType([a.number,a.string,a.instanceOf(Date)]))]),gridYValues:a.oneOfType([a.number,a.arrayOf(a.oneOfType([a.number,a.string,a.instanceOf(Date)]))]),enablePoints:a.bool.isRequired,pointSymbol:a.func,pointSize:a.number.isRequired,pointColor:a.any.isRequired,pointBorderWidth:a.number.isRequired,pointBorderColor:a.any.isRequired,enablePointLabel:a.bool.isRequired,pointLabel:a.oneOfType([a.string,a.func]).isRequired,markers:a.arrayOf(a.shape({axis:a.oneOf(["x","y"]).isRequired,value:a.oneOfType([a.number,a.string,a.instanceOf(Date)]).isRequired,style:a.object})),colors:Tt.isRequired,enableArea:a.bool.isRequired,areaOpacity:a.number.isRequired,areaBlendMode:ze.isRequired,areaBaselineValue:a.oneOfType([a.number,a.string,a.instanceOf(Date)]).isRequired,lineWidth:a.number.isRequired,legends:a.arrayOf(a.shape(Ht)).isRequired,isInteractive:a.bool.isRequired,debugMesh:a.bool.isRequired,tooltip:a.oneOfType([a.func,a.object]).isRequired,enableSlices:a.oneOf(["x","y",!1]).isRequired,debugSlices:a.bool.isRequired,sliceTooltip:a.oneOfType([a.func,a.object]).isRequired,enableCrosshair:a.bool.isRequired,crosshairType:a.string.isRequired},vi=Y({},gt,{enablePointLabel:a.bool.isRequired,role:a.string.isRequired,useMesh:a.bool.isRequired},Bt,Et),_i=Y({pixelRatio:a.number.isRequired},gt),mt={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:bi,enableSlices:!1,debugSlices:!1,sliceTooltip:xi,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},le=Y({},mt,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Mi=Y({},mt,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),wi=function(t){var e=t.curve;return b.useMemo(function(){return Zt().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y(function(i){return i.y}).curve(ct(e))},[e])},Ci=function(t){var e=t.curve,i=t.yScale,r=t.areaBaselineValue;return b.useMemo(function(){return Jt().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y1(function(n){return n.y}).curve(ct(e)).y0(i(r))},[e,i,r])},Ri=function(t){var e=t.enableSlices,i=t.points,r=t.width,n=t.height;return b.useMemo(function(){if(e===!1)return[];if(e==="x"){var l=new Map;return i.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(l.has(s.x)?l.get(s.x).push(s):l.set(s.x,[s]))}),Array.from(l.entries()).sort(function(s,u){return s[0]-u[0]}).map(function(s,u,c){var d,h=s[0],f=s[1],p=c[u-1],g=c[u+1];return{id:h,x0:d=p?h-(h-p[0])/2:h,x:h,y0:0,y:0,width:g?h-d+(g[0]-h)/2:r-d,height:n,points:f.reverse()}})}if(e==="y"){var o=new Map;return i.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(o.has(s.y)?o.get(s.y).push(s):o.set(s.y,[s]))}),Array.from(o.entries()).sort(function(s,u){return s[0]-u[0]}).map(function(s,u,c){var d,h,f=s[0],p=s[1],g=c[u-1],y=c[u+1];return d=g?f-(f-g[0])/2:f,h=y?f-d+(y[0]-f)/2:n-d,{id:f,x0:0,x:0,y0:d,y:f,width:r,height:h,points:p.reverse()}})}},[e,i])},yt=function(t){var e=t.data,i=t.xScale,r=i===void 0?le.xScale:i,n=t.xFormat,l=t.yScale,o=l===void 0?le.yScale:l,s=t.yFormat,u=t.width,c=t.height,d=t.colors,h=d===void 0?le.colors:d,f=t.curve,p=f===void 0?le.curve:f,g=t.areaBaselineValue,y=g===void 0?le.areaBaselineValue:g,w=t.pointColor,S=w===void 0?le.pointColor:w,C=t.pointBorderColor,M=C===void 0?le.pointBorderColor:C,L=t.enableSlices,V=L===void 0?le.enableSlicesTooltip:L,F=Ze(n),H=Ze(s),j=Vt(h,"id"),q=Se(),m=Ee(S,q),x=Ee(M,q),k=b.useState([]),T=k[0],A=k[1],W=b.useMemo(function(){return Yt(e.filter(function(B){return T.indexOf(B.id)===-1}),r,o,u,c)},[e,T,r,o,u,c]),G=W.xScale,R=W.yScale,O=W.series,U=b.useMemo(function(){var B=e.map(function(P){return{id:P.id,label:P.id,color:j(P)}}),$=B.map(function(P){return Y({},O.find(function(X){return X.id===P.id}),{color:P.color})}).filter(function(P){return!!P.id});return{legendData:B.map(function(P){return Y({},P,{hidden:!$.find(function(X){return X.id===P.id})})}).reverse(),series:$}},[e,O,j]),z=U.legendData,D=U.series,ee=b.useCallback(function(B){A(function($){return $.indexOf(B)>-1?$.filter(function(P){return P!==B}):[].concat($,[B])})},[]),re=function(B){var $=B.series,P=B.getPointColor,X=B.getPointBorderColor,ce=B.formatX,K=B.formatY;return b.useMemo(function(){return $.reduce(function(se,J){return[].concat(se,J.data.filter(function(N){return N.position.x!==null&&N.position.y!==null}).map(function(N,ae){var ie={id:J.id+"."+ae,index:se.length+ae,serieId:J.id,serieColor:J.color,x:N.position.x,y:N.position.y};return ie.color=P(J),ie.borderColor=X(ie),ie.data=Y({},N.data,{xFormatted:ce(N.data.x),yFormatted:K(N.data.y)}),ie}))},[])},[$,P,X,ce,K])}({series:D,getPointColor:m,getPointBorderColor:x,formatX:F,formatY:H}),te=Ri({enableSlices:V,points:re,width:u,height:c});return{legendData:z,toggleSerie:ee,lineGenerator:wi({curve:p}),areaGenerator:Ci({curve:p,yScale:R,areaBaselineValue:y}),getColor:j,series:D,xScale:G,yScale:R,slices:te,points:re}},bt=function(t){var e=t.areaBlendMode,i=t.areaOpacity,r=t.color,n=t.fill,l=t.path,o=Wt(),s=o.animate,u=o.config,c=at(l),d=Nt({color:r,config:u,immediate:!s});return _.jsx(ht.path,{d:c,fill:n||d.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:e}})};bt.propTypes={areaBlendMode:ze.isRequired,areaOpacity:a.number.isRequired,color:a.string,fill:a.string,path:a.string.isRequired};var xt=function(t){var e=t.areaGenerator,i=t.areaOpacity,r=t.areaBlendMode,n=t.lines.slice(0).reverse();return _.jsx("g",{children:n.map(function(l){return _.jsx(bt,Y({path:e(l.data.map(function(o){return o.position}))},Y({areaOpacity:i,areaBlendMode:r},l)),l.id)})})};xt.propTypes={areaGenerator:a.func.isRequired,areaOpacity:a.number.isRequired,areaBlendMode:ze.isRequired,lines:a.arrayOf(a.object).isRequired};var Si=b.memo(xt),vt=function(t){var e=t.lineGenerator,i=t.points,r=t.color,n=t.thickness,l=b.useMemo(function(){return e(i)},[e,i]),o=at(l);return _.jsx(ht.path,{d:o,fill:"none",strokeWidth:n,stroke:r})};vt.propTypes={points:a.arrayOf(a.shape({x:a.oneOfType([a.string,a.number]),y:a.oneOfType([a.string,a.number])})),lineGenerator:a.func.isRequired,color:a.string.isRequired,thickness:a.number.isRequired};var ki=b.memo(vt),_t=function(t){var e=t.lines,i=t.lineGenerator,r=t.lineWidth;return e.slice(0).reverse().map(function(n){var l=n.id,o=n.data,s=n.color;return _.jsx(ki,{id:l,points:o.map(function(u){return u.position}),lineGenerator:i,color:s,thickness:r},l)})};_t.propTypes={lines:a.arrayOf(a.shape({id:a.oneOfType([a.string,a.number]).isRequired,color:a.string.isRequired,data:a.arrayOf(a.shape({data:a.shape({x:a.oneOfType([a.string,a.number,a.instanceOf(Date)]),y:a.oneOfType([a.string,a.number,a.instanceOf(Date)])}).isRequired,position:a.shape({x:a.number,y:a.number}).isRequired})).isRequired})).isRequired,lineWidth:a.number.isRequired,lineGenerator:a.func.isRequired};var qi=b.memo(_t),Mt=function(t){var e=t.slice,i=t.axis,r=t.debug,n=t.tooltip,l=t.isCurrent,o=t.setCurrent,s=t.onMouseEnter,u=t.onMouseMove,c=t.onMouseLeave,d=t.onClick,h=De(),f=h.showTooltipFromEvent,p=h.hideTooltip,g=b.useCallback(function(C){f(b.createElement(n,{slice:e,axis:i}),C,"right"),o(e),s&&s(e,C)},[f,n,e,s]),y=b.useCallback(function(C){f(b.createElement(n,{slice:e,axis:i}),C,"right"),u&&u(e,C)},[f,n,e,u]),w=b.useCallback(function(C){p(),o(null),c&&c(e,C)},[p,e,c]),S=b.useCallback(function(C){d&&d(e,C)},[e,d]);return _.jsx("rect",{x:e.x0,y:e.y0,width:e.width,height:e.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&r?.35:0,onMouseEnter:g,onMouseMove:y,onMouseLeave:w,onClick:S,"data-testid":"slice-"+e.id})};Mt.propTypes={slice:a.object.isRequired,axis:a.oneOf(["x","y"]).isRequired,debug:a.bool.isRequired,height:a.number.isRequired,tooltip:a.oneOfType([a.func,a.object]),isCurrent:a.bool.isRequired,setCurrent:a.func.isRequired,onMouseEnter:a.func,onMouseMove:a.func,onMouseLeave:a.func,onClick:a.func};var Ti=b.memo(Mt),wt=function(t){var e=t.slices,i=t.axis,r=t.debug,n=t.height,l=t.tooltip,o=t.current,s=t.setCurrent,u=t.onMouseEnter,c=t.onMouseMove,d=t.onMouseLeave,h=t.onClick;return e.map(function(f){return _.jsx(Ti,{slice:f,axis:i,debug:r,height:n,tooltip:l,setCurrent:s,isCurrent:o!==null&&o.id===f.id,onMouseEnter:u,onMouseMove:c,onMouseLeave:d,onClick:h},f.id)})};wt.propTypes={slices:a.arrayOf(a.shape({id:a.oneOfType([a.number,a.string,a.instanceOf(Date)]).isRequired,x:a.number.isRequired,y:a.number.isRequired,points:a.arrayOf(a.object).isRequired})).isRequired,axis:a.oneOf(["x","y"]).isRequired,debug:a.bool.isRequired,height:a.number.isRequired,tooltip:a.oneOfType([a.func,a.object]).isRequired,current:a.object,setCurrent:a.func.isRequired,onMouseEnter:a.func,onMouseMove:a.func,onMouseLeave:a.func,onClick:a.func};var ji=b.memo(wt),Ct=function(t){var e=t.points,i=t.symbol,r=t.size,n=t.borderWidth,l=t.enableLabel,o=t.label,s=t.labelYOffset,u=Se(),c=At(o),d=e.slice(0).reverse().map(function(h){return{id:h.id,x:h.x,y:h.y,datum:h.data,fill:h.color,stroke:h.borderColor,label:l?c(h.data):null}});return _.jsx("g",{children:d.map(function(h){return _.jsx(Pt,{x:h.x,y:h.y,datum:h.datum,symbol:i,size:r,color:h.fill,borderWidth:n,borderColor:h.stroke,label:h.label,labelYOffset:s,theme:u},h.id)})})};Ct.propTypes={points:a.arrayOf(a.object),symbol:a.func,size:a.number.isRequired,color:a.func.isRequired,borderWidth:a.number.isRequired,borderColor:a.func.isRequired,enableLabel:a.bool.isRequired,label:a.oneOfType([a.string,a.func]).isRequired,labelYOffset:a.number};var Oi=b.memo(Ct),Rt=function(t){var e=t.points,i=t.width,r=t.height,n=t.margin,l=t.setCurrent,o=t.onMouseEnter,s=t.onMouseMove,u=t.onMouseLeave,c=t.onClick,d=t.tooltip,h=t.debug,f=De(),p=f.showTooltipAt,g=f.hideTooltip,y=b.useCallback(function(M,L){p(b.createElement(d,{point:M}),[M.x+n.left,M.y+n.top],"top"),l(M),o&&o(M,L)},[l,p,d,o,n]),w=b.useCallback(function(M,L){p(b.createElement(d,{point:M}),[M.x+n.left,M.y+n.top],"top"),l(M),s&&s(M,L)},[l,p,d,s]),S=b.useCallback(function(M,L){g(),l(null),u&&u(M,L)},[g,l,u]),C=b.useCallback(function(M,L){c&&c(M,L)},[c]);return _.jsx(gi,{nodes:e,width:i,height:r,onMouseEnter:y,onMouseMove:w,onMouseLeave:S,onClick:C,debug:h})};Rt.propTypes={points:a.arrayOf(a.object).isRequired,width:a.number.isRequired,height:a.number.isRequired,margin:a.object.isRequired,setCurrent:a.func.isRequired,onMouseEnter:a.func,onMouseMove:a.func,onMouseLeave:a.func,onClick:a.func,tooltip:a.oneOfType([a.func,a.object]).isRequired,debug:a.bool.isRequired};var Li=b.memo(Rt),$e=function(t){var e=t.data,i=t.xScale,r=t.xFormat,n=t.yScale,l=t.yFormat,o=t.layers,s=t.curve,u=t.areaBaselineValue,c=t.colors,d=t.margin,h=t.width,f=t.height,p=t.axisTop,g=t.axisRight,y=t.axisBottom,w=t.axisLeft,S=t.enableGridX,C=t.enableGridY,M=t.gridXValues,L=t.gridYValues,V=t.lineWidth,F=t.enableArea,H=t.areaOpacity,j=t.areaBlendMode,q=t.enablePoints,m=t.pointSymbol,x=t.pointSize,k=t.pointColor,T=t.pointBorderWidth,A=t.pointBorderColor,W=t.enablePointLabel,G=t.pointLabel,R=t.pointLabelYOffset,O=t.defs,U=t.fill,z=t.markers,D=t.legends,ee=t.isInteractive,re=t.useMesh,te=t.debugMesh,B=t.onMouseEnter,$=t.onMouseMove,P=t.onMouseLeave,X=t.onClick,ce=t.tooltip,K=t.enableSlices,se=t.debugSlices,J=t.sliceTooltip,N=t.enableCrosshair,ae=t.crosshairType,ie=t.role,oe=ut(h,f,d),he=oe.margin,Z=oe.innerWidth,ne=oe.innerHeight,ke=oe.outerWidth,qe=oe.outerHeight,Q=yt({data:e,xScale:i,xFormat:r,yScale:n,yFormat:l,width:Z,height:ne,colors:c,curve:s,areaBaselineValue:u,pointColor:k,pointBorderColor:A,enableSlices:K}),Te=Q.legendData,je=Q.toggleSerie,de=Q.lineGenerator,_e=Q.areaGenerator,ye=Q.series,be=Q.xScale,v=Q.yScale,I=Q.slices,ue=Q.points,E=Se(),fe=Ee(k,E),St=Ee(A,E),Ye=b.useState(null),Me=Ye[0],He=Ye[1],Ue=b.useState(null),we=Ue[0],Ke=Ue[1],pe={grid:_.jsx(zt,{theme:E,width:Z,height:ne,xScale:S?be:null,yScale:C?v:null,xValues:M,yValues:L},"grid"),markers:_.jsx(It,{markers:z,width:Z,height:ne,xScale:be,yScale:v,theme:E},"markers"),axes:_.jsx(Dt,{xScale:be,yScale:v,width:Z,height:ne,theme:E,top:p,right:g,bottom:y,left:w},"axes"),areas:null,lines:_.jsx(qi,{lines:ye,lineGenerator:de,lineWidth:V},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:D.map(function(ge,We){return _.jsx(Ut,Y({},ge,{containerWidth:Z,containerHeight:ne,data:ge.data||Te,theme:E,toggleSerie:ge.toggleSerie?je:void 0}),"legend."+We)})},kt=Ft(O,ye,U);return F&&(pe.areas=_.jsx(Si,{areaGenerator:_e,areaOpacity:H,areaBlendMode:j,lines:ye},"areas")),ee&&K!==!1&&(pe.slices=_.jsx(ji,{slices:I,axis:K,debug:se,height:ne,tooltip:J,current:we,setCurrent:Ke,onMouseEnter:B,onMouseMove:$,onMouseLeave:P,onClick:X},"slices")),q&&(pe.points=_.jsx(Oi,{points:ue,symbol:m,size:x,color:fe,borderWidth:T,borderColor:St,enableLabel:W,label:G,labelYOffset:R},"points")),ee&&N&&(Me!==null&&(pe.crosshair=_.jsx(Ne,{width:Z,height:ne,x:Me.x,y:Me.y,type:ae},"crosshair")),we!==null&&(pe.crosshair=_.jsx(Ne,{width:Z,height:ne,x:we.x,y:we.y,type:K},"crosshair"))),ee&&re&&K===!1&&(pe.mesh=_.jsx(Li,{points:ue,width:Z,height:ne,margin:he,current:Me,setCurrent:He,onMouseEnter:B,onMouseMove:$,onMouseLeave:P,onClick:X,tooltip:ce,debug:te},"mesh")),_.jsx(Gt,{defs:kt,width:ke,height:qe,margin:he,role:ie,children:o.map(function(ge,We){return typeof ge=="function"?_.jsx(b.Fragment,{children:ge(Y({},t,{innerWidth:Z,innerHeight:ne,series:ye,slices:I,points:ue,xScale:be,yScale:v,lineGenerator:de,areaGenerator:_e,currentPoint:Me,setCurrentPoint:He,currentSlice:we,setCurrentSlice:Ke}))},We):pe[ge]})})};$e.propTypes=vi,$e.defaultProps=le;var Bi=ot($e),Ei=function(t){return _.jsx(lt,{children:function(e){var i=e.width,r=e.height;return _.jsx(Bi,Y({width:i,height:r},t))}})},Ve=function(t){var e=t.width,i=t.height,r=t.margin,n=t.pixelRatio,l=t.data,o=t.xScale,s=t.xFormat,u=t.yScale,c=t.yFormat,d=t.curve,h=t.layers,f=t.colors,p=t.lineWidth,g=t.enableArea,y=t.areaBaselineValue,w=t.areaOpacity,S=t.enablePoints,C=t.pointSize,M=t.pointColor,L=t.pointBorderWidth,V=t.pointBorderColor,F=t.enableGridX,H=t.gridXValues,j=t.enableGridY,q=t.gridYValues,m=t.axisTop,x=t.axisRight,k=t.axisBottom,T=t.axisLeft,A=t.legends,W=t.isInteractive,G=t.debugMesh,R=t.onMouseLeave,O=t.onClick,U=t.tooltip,z=t.canvasRef,D=b.useRef(null),ee=ut(e,i,r),re=ee.margin,te=ee.innerWidth,B=ee.innerHeight,$=ee.outerWidth,P=ee.outerHeight,X=Se(),ce=b.useState(null),K=ce[0],se=ce[1],J=yt({data:l,xScale:o,xFormat:s,yScale:u,yFormat:c,width:te,height:B,colors:f,curve:d,areaBaselineValue:y,pointColor:M,pointBorderColor:V}),N=J.lineGenerator,ae=J.areaGenerator,ie=J.series,oe=J.xScale,he=J.yScale,Z=J.points,ne=dt({points:Z,width:te,height:B,debug:G}),ke=ne.delaunay,qe=ne.voronoi;b.useEffect(function(){z&&(z.current=D.current),D.current.width=$*n,D.current.height=P*n;var v=D.current.getContext("2d");v.scale(n,n),v.fillStyle=X.background,v.fillRect(0,0,$,P),v.translate(re.left,re.top),h.forEach(function(I){if(typeof I=="function"&&I({ctx:v,innerWidth:te,innerHeight:B,series:ie,points:Z,xScale:oe,yScale:he,lineWidth:p,lineGenerator:N,areaGenerator:ae,currentPoint:K,setCurrentPoint:se}),I==="grid"&&X.grid.line.strokeWidth>0&&(v.lineWidth=X.grid.line.strokeWidth,v.strokeStyle=X.grid.line.stroke,F&&Je(v,{width:te,height:B,scale:oe,axis:"x",values:H}),j&&Je(v,{width:te,height:B,scale:he,axis:"y",values:q})),I==="axes"&&Xt(v,{xScale:oe,yScale:he,width:te,height:B,top:m,right:x,bottom:k,left:T,theme:X}),I==="areas"&&g===!0&&(v.save(),v.globalAlpha=w,ae.context(v),ie.forEach(function(E){v.fillStyle=E.color,v.beginPath(),ae(E.data.map(function(fe){return fe.position})),v.fill()}),v.restore()),I==="lines"&&(N.context(v),ie.forEach(function(E){v.strokeStyle=E.color,v.lineWidth=p,v.beginPath(),N(E.data.map(function(fe){return fe.position})),v.stroke()})),I==="points"&&S===!0&&C>0&&Z.forEach(function(E){v.fillStyle=E.color,v.beginPath(),v.arc(E.x,E.y,C/2,0,2*Math.PI),v.fill(),L>0&&(v.strokeStyle=E.borderColor,v.lineWidth=L,v.stroke())}),I==="mesh"&&G===!0&&(mi(v,qe),K&&yi(v,qe,K.index)),I==="legends"){var ue=ie.map(function(E){return{id:E.id,label:E.id,color:E.color}}).reverse();A.forEach(function(E){Kt(v,Y({},E,{data:E.data||ue,containerWidth:te,containerHeight:B,theme:X}))})}})},[D,$,P,h,X,N,ie,oe,he,F,H,j,q,m,x,k,T,A,Z,S,C,K]);var Q=b.useCallback(function(v){var I=st(D.current,v),ue=I[0],E=I[1];if(!$t(re.left,re.top,te,B,ue,E))return null;var fe=ke.find(ue-re.left,E-re.top);return Z[fe]},[D,re,te,B,ke]),Te=De(),je=Te.showTooltipFromEvent,de=Te.hideTooltip,_e=b.useCallback(function(v){var I=Q(v);se(I),I?je(b.createElement(U,{point:I}),v):de()},[Q,se,je,de,U]),ye=b.useCallback(function(v){de(),se(null),K&&R&&R(K,v)},[de,se,R]),be=b.useCallback(function(v){if(O){var I=Q(v);I&&O(I,v)}},[Q,O]);return _.jsx("canvas",{ref:D,width:$*n,height:P*n,style:{width:$,height:P,cursor:W?"auto":"normal"},onMouseEnter:W?_e:void 0,onMouseMove:W?_e:void 0,onMouseLeave:W?ye:void 0,onClick:W?be:void 0})};Ve.propTypes=_i,Ve.defaultProps=Mi;var Ai=ot(Ve),Pi=b.forwardRef(function(t,e){return _.jsx(Ai,Y({},t,{canvasRef:e}))});b.forwardRef(function(t,e){return _.jsx(lt,{children:function(i){var r=i.width,n=i.height;return _.jsx(Pi,Y({width:r,height:n},t,{ref:e}))}})});const Pe=({marginRight:t=0,marginLeft:e=30,sample:i=!1,data:r,...n})=>_.jsx(Ei,{axisLeft:{tickValues:4},data:r,colors:i?["#E5E5E5"]:["#67A7DE","#b667de","#deb467"],margin:{top:10,right:t,bottom:50,left:e},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2X",axisTop:null,curve:"basis",axisRight:null,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!i,enableArea:!0,enableGridX:!1,enableGridY:!1,...n});try{Pe.displayName="LineChart",Pe.__docgenInfo={description:"",displayName:"LineChart",props:{marginRight:{defaultValue:{value:"0"},description:"",name:"marginRight",required:!1,type:{name:"number"}},marginLeft:{defaultValue:{value:"30"},description:"",name:"marginLeft",required:!1,type:{name:"number"}},sample:{defaultValue:{value:"false"},description:"",name:"sample",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}}}}}catch{}const sn={title:"LineChart",component:Pe},Wi=t=>_.jsxs("div",{style:{height:"500px"},children:[_.jsx(Pe,{...t}),";"]}),Re=Wi.bind({});Re.args={marginRight:0,marginLeft:30,sample:!1,data:[{id:"series1",data:[{x:"A",y:10},{x:"B",y:15}]}]};var it,nt,rt;Re.parameters={...Re.parameters,docs:{...(it=Re.parameters)==null?void 0:it.docs,source:{originalSource:`args => <div style={{
  height: '500px'
}}>
    <LineChart {...args} />;
  </div>`,...(rt=(nt=Re.parameters)==null?void 0:nt.docs)==null?void 0:rt.source}}};const on=["BasicLineChart"];export{Re as BasicLineChart,on as __namedExportsOrder,sn as default};
