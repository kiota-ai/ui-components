import{j as y}from"./jsx-runtime-ffb262ed.js";import{E as ut}from"./nivo-colors.es-6a419262.js";import{r as Z}from"./index-76fb7be0.js";import{P as s}from"./index-8d47fad6.js";var bt=function(t){var e=t.x,c=t.y,o=t.size,r=t.fill,n=t.opacity,l=n===void 0?1:n,d=t.borderWidth,a=d===void 0?0:d,i=t.borderColor;return y.jsx("circle",{r:o/2,cx:e+o/2,cy:c+o/2,fill:r,opacity:l,strokeWidth:a,stroke:i===void 0?"transparent":i,style:{pointerEvents:"none"}})},gt=function(t){var e=t.x,c=t.y,o=t.size,r=t.fill,n=t.opacity,l=n===void 0?1:n,d=t.borderWidth,a=d===void 0?0:d,i=t.borderColor;return y.jsx("g",{transform:"translate("+e+","+c+")",children:y.jsx("path",{d:`
                    M`+o/2+` 0
                    L`+.8*o+" "+o/2+`
                    L`+o/2+" "+o+`
                    L`+.2*o+" "+o/2+`
                    L`+o/2+` 0
                `,fill:r,opacity:l,strokeWidth:a,stroke:i===void 0?"transparent":i,style:{pointerEvents:"none"}})})},ft=function(t){var e=t.x,c=t.y,o=t.size,r=t.fill,n=t.opacity,l=n===void 0?1:n,d=t.borderWidth,a=d===void 0?0:d,i=t.borderColor;return y.jsx("rect",{x:e,y:c,fill:r,opacity:l,strokeWidth:a,stroke:i===void 0?"transparent":i,width:o,height:o,style:{pointerEvents:"none"}})},yt=function(t){var e=t.x,c=t.y,o=t.size,r=t.fill,n=t.opacity,l=n===void 0?1:n,d=t.borderWidth,a=d===void 0?0:d,i=t.borderColor;return y.jsx("g",{transform:"translate("+e+","+c+")",children:y.jsx("path",{d:`
                M`+o/2+` 0
                L`+o+" "+o+`
                L0 `+o+`
                L`+o/2+` 0
            `,fill:r,opacity:l,strokeWidth:a,stroke:i===void 0?"transparent":i,style:{pointerEvents:"none"}})})};function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var c=arguments[e];for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o])}return t},J.apply(this,arguments)}var pt={top:0,right:0,bottom:0,left:0},it=function(t){var e,c=t.direction,o=t.itemsSpacing,r=t.padding,n=t.itemCount,l=t.itemWidth,d=t.itemHeight;if(typeof r!="number"&&(typeof(e=r)!="object"||Array.isArray(e)||e===null))throw new Error("Invalid property padding, must be one of: number, object");var a=typeof r=="number"?{top:r,right:r,bottom:r,left:r}:J({},pt,r),i=a.left+a.right,u=a.top+a.bottom,m=l+i,b=d+u,f=(n-1)*o;return c==="row"?m=l*n+f+i:c==="column"&&(b=d*n+f+u),{width:m,height:b,padding:a}},rt=function(t){var e=t.anchor,c=t.translateX,o=t.translateY,r=t.containerWidth,n=t.containerHeight,l=t.width,d=t.height,a=c,i=o;switch(e){case"top":a+=(r-l)/2;break;case"top-right":a+=r-l;break;case"right":a+=r-l,i+=(n-d)/2;break;case"bottom-right":a+=r-l,i+=n-d;break;case"bottom":a+=(r-l)/2,i+=n-d;break;case"bottom-left":i+=n-d;break;case"left":i+=(n-d)/2;break;case"center":a+=(r-l)/2,i+=(n-d)/2}return{x:a,y:i}},nt=function(t){var e,c,o,r,n,l,d=t.direction,a=t.justify,i=t.symbolSize,u=t.symbolSpacing,m=t.width,b=t.height;switch(d){case"left-to-right":e=0,c=(b-i)/2,r=b/2,l="central",a?(o=m,n="end"):(o=i+u,n="start");break;case"right-to-left":e=m-i,c=(b-i)/2,r=b/2,l="central",a?(o=0,n="start"):(o=m-i-u,n="end");break;case"top-to-bottom":e=(m-i)/2,c=0,o=m/2,n="middle",a?(r=b,l="alphabetic"):(r=i+u,l="text-before-edge");break;case"bottom-to-top":e=(m-i)/2,c=b-i,o=m/2,n="middle",a?(r=0,l="text-before-edge"):(r=b-i-u,l="alphabetic")}return{symbolX:e,symbolY:c,labelX:o,labelY:r,labelAnchor:n,labelAlignment:l}},vt={circle:bt,diamond:gt,square:ft,triangle:yt},xt=function(t){var e,c,o,r,n,l,d,a,i,u,m,b=t.x,f=t.y,p=t.width,x=t.height,h=t.data,S=t.direction,k=S===void 0?"left-to-right":S,j=t.justify,q=j!==void 0&&j,L=t.textColor,B=t.background,w=B===void 0?"transparent":B,z=t.opacity,R=z===void 0?1:z,C=t.symbolShape,v=C===void 0?"square":C,X=t.symbolSize,W=X===void 0?16:X,E=t.symbolSpacing,O=E===void 0?8:E,Y=t.symbolBorderWidth,H=Y===void 0?0:Y,D=t.symbolBorderColor,Q=D===void 0?"transparent":D,T=t.onClick,P=t.onMouseEnter,F=t.onMouseLeave,K=t.toggleSerie,M=t.effects,U=Z.useState({}),g=U[0],V=U[1],N=ut(),_=Z.useCallback(function(I){if(M){var et=M.filter(function(G){return G.on==="hover"}).reduce(function(G,ot){return J({},G,ot.style)},{});V(et)}P==null||P(h,I)},[P,h,M]),$=Z.useCallback(function(I){if(M){var et=M.filter(function(G){return G.on!=="hover"}).reduce(function(G,ot){return J({},G,ot.style)},{});V(et)}F==null||F(h,I)},[F,h,M]),A=nt({direction:k,justify:q,symbolSize:(e=g.symbolSize)!=null?e:W,symbolSpacing:O,width:p,height:x}),tt=A.symbolX,lt=A.symbolY,at=A.labelX,st=A.labelY,dt=A.labelAnchor,ct=A.labelAlignment,mt=[T,P,F,K].some(function(I){return I!==void 0}),ht=typeof v=="function"?v:vt[v];return y.jsxs("g",{transform:"translate("+b+","+f+")",style:{opacity:(c=g.itemOpacity)!=null?c:R},children:[y.jsx("rect",{width:p,height:x,fill:(o=g.itemBackground)!=null?o:w,style:{cursor:mt?"pointer":"auto"},onClick:function(I){T==null||T(h,I),K==null||K(h.id)},onMouseEnter:_,onMouseLeave:$}),Z.createElement(ht,J({id:h.id,x:tt,y:lt,size:(r=g.symbolSize)!=null?r:W,fill:(n=(l=h.fill)!=null?l:h.color)!=null?n:"black",borderWidth:(d=g.symbolBorderWidth)!=null?d:H,borderColor:(a=g.symbolBorderColor)!=null?a:Q},h.hidden?N.legends.hidden.symbol:void 0)),y.jsx("text",{textAnchor:dt,style:J({},N.legends.text,{fill:(i=(u=(m=g.itemTextColor)!=null?m:L)!=null?u:N.legends.text.fill)!=null?i:"black",dominantBaseline:ct,pointerEvents:"none",userSelect:"none"},h.hidden?N.legends.hidden.text:void 0),x:at,y:st,children:h.label})]})},St=function(t){var e=t.data,c=t.x,o=t.y,r=t.direction,n=t.padding,l=n===void 0?0:n,d=t.justify,a=t.effects,i=t.itemWidth,u=t.itemHeight,m=t.itemDirection,b=m===void 0?"left-to-right":m,f=t.itemsSpacing,p=f===void 0?0:f,x=t.itemTextColor,h=t.itemBackground,S=h===void 0?"transparent":h,k=t.itemOpacity,j=k===void 0?1:k,q=t.symbolShape,L=t.symbolSize,B=t.symbolSpacing,w=t.symbolBorderWidth,z=t.symbolBorderColor,R=t.onClick,C=t.onMouseEnter,v=t.onMouseLeave,X=t.toggleSerie,W=it({itemCount:e.length,itemWidth:i,itemHeight:u,itemsSpacing:p,direction:r,padding:l}).padding,E=r==="row"?i+p:0,O=r==="column"?u+p:0;return y.jsx("g",{transform:"translate("+c+","+o+")",children:e.map(function(Y,H){return y.jsx(xt,{data:Y,x:H*E+W.left,y:H*O+W.top,width:i,height:u,direction:b,justify:d,effects:a,textColor:x,background:S,opacity:j,symbolShape:q,symbolSize:L,symbolSpacing:B,symbolBorderWidth:w,symbolBorderColor:z,onClick:R,onMouseEnter:C,onMouseLeave:v,toggleSerie:X},H)})})},wt=function(t){var e=t.data,c=t.containerWidth,o=t.containerHeight,r=t.translateX,n=r===void 0?0:r,l=t.translateY,d=l===void 0?0:l,a=t.anchor,i=t.direction,u=t.padding,m=u===void 0?0:u,b=t.justify,f=t.itemsSpacing,p=f===void 0?0:f,x=t.itemWidth,h=t.itemHeight,S=t.itemDirection,k=t.itemTextColor,j=t.itemBackground,q=t.itemOpacity,L=t.symbolShape,B=t.symbolSize,w=t.symbolSpacing,z=t.symbolBorderWidth,R=t.symbolBorderColor,C=t.onClick,v=t.onMouseEnter,X=t.onMouseLeave,W=t.toggleSerie,E=t.effects,O=it({itemCount:e.length,itemsSpacing:p,itemWidth:x,itemHeight:h,direction:i,padding:m}),Y=O.width,H=O.height,D=rt({anchor:a,translateX:n,translateY:d,containerWidth:c,containerHeight:o,width:Y,height:H}),Q=D.x,T=D.y;return y.jsx(St,{data:e,x:Q,y:T,direction:i,padding:m,justify:b,effects:E,itemsSpacing:p,itemWidth:x,itemHeight:h,itemDirection:S,itemTextColor:k,itemBackground:j,itemOpacity:q,symbolShape:L,symbolSize:B,symbolSpacing:w,symbolBorderWidth:z,symbolBorderColor:R,onClick:C,onMouseEnter:v,onMouseLeave:X,toggleSerie:typeof W=="boolean"?void 0:W})},kt={start:"left",middle:"center",end:"right"},zt=function(t,e){var c=e.data,o=e.containerWidth,r=e.containerHeight,n=e.translateX,l=n===void 0?0:n,d=e.translateY,a=d===void 0?0:d,i=e.anchor,u=e.direction,m=e.padding,b=m===void 0?0:m,f=e.justify,p=f!==void 0&&f,x=e.itemsSpacing,h=x===void 0?0:x,S=e.itemWidth,k=e.itemHeight,j=e.itemDirection,q=j===void 0?"left-to-right":j,L=e.itemTextColor,B=e.symbolSize,w=B===void 0?16:B,z=e.symbolSpacing,R=z===void 0?8:z,C=e.theme,v=it({itemCount:c.length,itemWidth:S,itemHeight:k,itemsSpacing:h,direction:u,padding:b}),X=v.width,W=v.height,E=v.padding,O=rt({anchor:i,translateX:l,translateY:a,containerWidth:o,containerHeight:r,width:X,height:W}),Y=O.x,H=O.y,D=u==="row"?S+h:0,Q=u==="column"?k+h:0;t.save(),t.translate(Y,H),t.font=C.legends.text.fontSize+"px "+(C.legends.text.fontFamily||"sans-serif"),c.forEach(function(T,P){var F,K,M=P*D+E.left,U=P*Q+E.top,g=nt({direction:q,justify:p,symbolSize:w,symbolSpacing:R,width:S,height:k}),V=g.symbolX,N=g.symbolY,_=g.labelX,$=g.labelY,A=g.labelAnchor,tt=g.labelAlignment;t.fillStyle=(F=T.color)!=null?F:"black",t.fillRect(M+V,U+N,w,w),t.textAlign=kt[A],tt==="central"&&(t.textBaseline="middle"),t.fillStyle=(K=L??C.legends.text.fill)!=null?K:"black",t.fillText(String(T.label),M+_,U+$)}),t.restore()},Et={data:s.arrayOf(s.object),anchor:s.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:s.number,translateY:s.number,direction:s.oneOf(["row","column"]).isRequired,itemsSpacing:s.number,itemWidth:s.number.isRequired,itemHeight:s.number.isRequired,itemDirection:s.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:s.string,itemBackground:s.string,itemOpacity:s.number,symbolShape:s.oneOfType([s.oneOf(["circle","diamond","square","triangle"]),s.func]),symbolSize:s.number,symbolSpacing:s.number,symbolBorderWidth:s.number,symbolBorderColor:s.string,onClick:s.func,onMouseEnter:s.func,onMouseLeave:s.func,effects:s.arrayOf(s.shape({on:s.oneOfType([s.oneOf(["hover"])]).isRequired,style:s.shape({itemTextColor:s.string,itemBackground:s.string,itemOpacity:s.number,symbolSize:s.number,symbolBorderWidth:s.number,symbolBorderColor:s.string}).isRequired}))};export{zt as H,Et as T,wt as X};
